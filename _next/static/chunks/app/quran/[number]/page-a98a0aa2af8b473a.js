(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644],{63:(e,a,t)=>{"use strict";var r=t(7260);t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},2391:(e,a,t)=>{"use strict";t.d(a,{B:()=>s});var r=t(3372);let n={id:{nav:{home:"Beranda",sholat:"Jadwal Sholat",quran:"Al-Qur'an",puasa:"Jadwal Puasa",kiblat:"Arah Kiblat"},home:{title:"Selamat Datang",subtitle:"Website Islami untuk memudahkan ibadah harian Anda",prayerTimes:"Jadwal Sholat",quranReading:"Baca Al-Qur'an",fastingSchedule:"Jadwal Puasa 2026"},sholat:{title:"Jadwal Sholat",selectCity:"Pilih Kota",today:"Hari Ini",subuh:"Subuh",dzuhur:"Dzuhur",ashar:"Ashar",maghrib:"Maghrib",isya:"Isya"},quran:{title:"Al-Qur'an",search:"Cari Surah",read:"Baca",verses:"Ayat",lastRead:"Terakhir Dibaca",markRead:"Tandai Terakhir Dibaca",audio:"Audio"},puasa:{title:"Jadwal Puasa Ramadhan 2026",ramadhan:"Ramadhan 2026",day:"Hari",imsak:"Imsak",buka:"Buka"}},en:{nav:{home:"Home",sholat:"Prayer Times",quran:"Quran",puasa:"Fasting Schedule",kiblat:"Qibla Direction"},home:{title:"Welcome",subtitle:"Islamic website to support your daily worship",prayerTimes:"Prayer Times",quranReading:"Read Quran",fastingSchedule:"Fasting Schedule 2026"},sholat:{title:"Prayer Times",selectCity:"Select City",today:"Today",subuh:"Fajr",dzuhur:"Dhuhr",ashar:"Asr",maghrib:"Maghrib",isya:"Isha"},quran:{title:"Al-Qur'an",search:"Search Surah",read:"Read",verses:"Verses",lastRead:"Last Read",markRead:"Mark Last Read",audio:"Audio"},puasa:{title:"Ramadhan Fasting Schedule 2026",ramadhan:"Ramadhan 2026",day:"Day",imsak:"Imsak",buka:"Iftar"}}},s=()=>{let e=(0,r.Z0)();return{t:n[e],language:e,setLanguage:e=>{(0,r.gW)(e),window.location.reload()}}}},3372:(e,a,t)=>{"use strict";t.d(a,{CP:()=>u,DA:()=>d,FB:()=>i,Z0:()=>c,gW:()=>l,y4:()=>o});let r="imsakiyah-city",n="quran-progress",s="app-language",i=(e,a,t)=>{let r={surah:e,ayah:a,surahName:t,timestamp:Date.now()};localStorage.setItem(n,JSON.stringify(r))},o=()=>{let e=localStorage.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},l=e=>{localStorage.setItem(s,e)},c=()=>"en"===localStorage.getItem(s)?"en":"id",d=(e,a)=>{localStorage.setItem(r,JSON.stringify({province:e,city:a}))},u=()=>{let e=localStorage.getItem(r);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}},3430:(e,a,t)=>{"use strict";t.d(a,{default:()=>u});var r=t(5155),n=t(2115),s=t(63),i=t(7621),o=t(3372),l=t(2391);function c(e){let{surahNumber:a,surahName:t,ayah:s,currentProgress:i}=e,{t:c}=(0,l.B)(),[d,u]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{i&&i.surah===a&&i.ayah===s.nomorAyat&&u(!0)},[i,a,null==s?void 0:s.nomorAyat]),s)?(0,r.jsxs)("div",{className:"bg-white border-2 rounded-xl p-6 mb-4 ".concat(d?"border-gold/50 bg-gold/5":"border-soft/30"),children:[(0,r.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-primary text-white rounded-full flex items-center justify-center font-bold",children:s.nomorAyat||"?"}),(0,r.jsx)("button",{onClick:()=>{(null==s?void 0:s.nomorAyat)&&((0,o.FB)(a,s.nomorAyat,t),u(!0))},className:"flex-shrink-0 text-2xl transition-transform hover:scale-125 ".concat(d?"text-gold":"text-primary/30"),title:c.quran.markRead,children:d?"⭐":"☆"})]}),s.teksArab&&(0,r.jsx)("p",{className:"text-right text-2xl md:text-3xl text-primary mb-4 leading-loose",dir:"rtl",children:s.teksArab}),s.teksLatin&&(0,r.jsx)("p",{className:"text-sm text-primary/60 italic mb-3",children:s.teksLatin}),s.teksIndonesia&&(0,r.jsx)("p",{className:"text-base text-primary/80",children:s.teksIndonesia})]}):null}function d(e){let{audioUrl:a,surahName:t}=e,[s,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(0),[c,d]=(0,n.useState)(0),[u,m]=(0,n.useState)(null),h=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=h.current;if(!e)return;let a=()=>l(e.currentTime),t=()=>{d(e.duration),m(null)},r=()=>i(!1),n=e=>{console.error("Audio error:",e),m("Gagal memuat audio"),i(!1)};return e.addEventListener("timeupdate",a),e.addEventListener("loadedmetadata",t),e.addEventListener("ended",r),e.addEventListener("error",n),()=>{e.removeEventListener("timeupdate",a),e.removeEventListener("loadedmetadata",t),e.removeEventListener("ended",r),e.removeEventListener("error",n)}},[a]);let g=async()=>{let e=h.current;if(e)try{s?e.pause():await e.play(),i(!s),m(null)}catch(e){console.error("Play error:",e),m("Gagal memutar audio"),i(!1)}},p=e=>{if(isNaN(e)||!isFinite(e))return"0:00";let a=Math.floor(e/60),t=Math.floor(e%60);return"".concat(a,":").concat(t.toString().padStart(2,"0"))},y=c>0?o/c*100:0;return(0,r.jsxs)("div",{className:"bg-white border-2 border-soft/30 rounded-xl p-6 mb-6",children:[(0,r.jsx)("audio",{ref:h,src:a}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)("button",{onClick:g,disabled:!!u,className:"flex-shrink-0 w-14 h-14 bg-primary text-white rounded-full flex items-center justify-center hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":s?"Pause":"Play",children:s?(0,r.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}):(0,r.jsx)("svg",{className:"w-6 h-6 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("h3",{className:"font-semibold text-primary",children:["Audio - ",t]}),(0,r.jsxs)("span",{className:"text-sm text-primary/60",children:[p(o)," / ",p(c)]})]}),(0,r.jsx)("input",{type:"range",min:"0",max:c||0,value:o,onChange:e=>{let a=h.current;if(!a)return;let t=Number(e.target.value);a.currentTime=t,l(t)},className:"w-full h-2 bg-soft rounded-lg appearance-none cursor-pointer accent-gold",style:{background:"linear-gradient(to right, #D4AF37 ".concat(y,"%, #E6F4EA ").concat(y,"%)")}}),u&&(0,r.jsx)("p",{className:"text-red-600 text-sm mt-2",children:u})]})]}),(0,r.jsx)("p",{className:"text-xs text-primary/50 text-center",children:"Qori: Misyari Rasyid Al-Afasi"})]})}function u(e){let{surahNumber:a}=e,t=(0,s.useRouter)(),[l,u]=(0,n.useState)(null),[m,h]=(0,n.useState)(!0),[g,p]=(0,n.useState)(null),[y,f]=(0,n.useState)(null);if((0,n.useEffect)(()=>{(async()=>{h(!0),p(null);try{let e=await (0,i.getSurahDetail)(a);e?e.ayat&&0!==e.ayat.length?(u(e),f((0,o.y4)())):p("No verses found for this surah"):p("Failed to load surah data")}catch(e){console.error("Error fetching surah detail:",e),p("An error occurred while loading the surah")}finally{h(!1)}})()},[a]),m)return(0,r.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gold border-t-transparent"}),(0,r.jsx)("p",{className:"mt-4 text-primary/70",children:"Loading from EQuran.id API..."})]})});if(g||!l)return(0,r.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-primary/70 mb-4",children:g||"Failed to load surah"}),(0,r.jsx)("button",{onClick:()=>t.push("/quran"),className:"px-6 py-3 bg-primary text-white rounded-xl hover:bg-primary/90",children:"← Back to Surah List"})]})});let x=l.ayat||[];return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,r.jsx)("button",{onClick:()=>t.push("/quran"),className:"mb-6 px-4 py-2 bg-soft text-primary rounded-lg hover:bg-soft/80 transition-colors",children:"← Back to Surah List"}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gold/20 to-gold/10 border-2 border-gold/40 rounded-xl p-8 mb-8 text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-primary mb-2",children:l.namaLatin}),(0,r.jsx)("p",{className:"text-2xl text-gold mb-4",dir:"rtl",children:l.nama}),(0,r.jsx)("p",{className:"text-primary/70",children:l.arti}),(0,r.jsxs)("div",{className:"flex justify-center gap-4 mt-4 text-sm text-primary/60",children:[(0,r.jsx)("span",{children:l.type}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:[l.jumlahAyat," Ayat"]})]})]}),9!==l.nomor&&(0,r.jsx)("div",{className:"text-center mb-8",children:(0,r.jsx)("p",{className:"text-3xl text-primary",dir:"rtl",children:"بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيم"})}),l.audioFull&&l.audioFull["05"]&&(0,r.jsx)(d,{audioUrl:l.audioFull["05"],surahName:l.namaLatin}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto",children:x.length>0?x.map(e=>(0,r.jsx)(c,{surahNumber:l.nomor,surahName:l.namaLatin,ayah:e,currentProgress:y},e.nomorAyat)):(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-primary/70",children:"No verses available"})})}),(0,r.jsxs)("div",{className:"mt-12 text-center text-sm text-primary/50",children:["Data provided by ",(0,r.jsx)("a",{href:"https://equran.id",target:"_blank",rel:"noopener noreferrer",className:"text-gold hover:underline",children:"EQuran.id API"})]})]})}},7621:(e,a,t)=>{"use strict";t.r(a),t.d(a,{MAJOR_CITIES:()=>r,formatDate:()=>d,getAllSurahs:()=>l,getCities:()=>h,getHijriDate:()=>u,getImsakiyahSchedule:()=>g,getPrayerTimes:()=>n,getProvinces:()=>m,getSavedLocation:()=>o,getSurahDetail:()=>c,getUserLocation:()=>s,reverseGeocode:()=>p,saveLocation:()=>i});let r=[{lat:-6.2088,lng:106.8456,name:"Jakarta"},{lat:-7.2575,lng:112.7521,name:"Surabaya"},{lat:-6.9175,lng:107.6191,name:"Bandung"},{lat:3.5952,lng:98.6722,name:"Medan"},{lat:-6.9667,lng:110.4167,name:"Semarang"},{lat:-5.1477,lng:119.4328,name:"Makassar"},{lat:-7.7956,lng:110.3695,name:"Yogyakarta"},{lat:-7.9797,lng:112.6304,name:"Malang"},{lat:-2.9761,lng:104.7754,name:"Palembang"},{lat:-8.6705,lng:115.2126,name:"Denpasar"},{lat:-.9471,lng:100.4172,name:"Padang"},{lat:.5071,lng:101.4479,name:"Pekanbaru"}];async function n(e,a){var t,r,n,s,i,o,l,c,d;let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Shafi",m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"MuslimWorldLeague",h=null!=(t=({MuslimWorldLeague:3,Egyptian:5,Karachi:1,UmmAlQura:4,Dubai:8,MoonsightingCommittee:9,NorthAmerica:2,Kuwait:10,Qatar:11,Singapore:15})[m])?t:3,g=new URL("https://api.aladhan.com/v1/timings");g.searchParams.append("latitude",e.toString()),g.searchParams.append("longitude",a.toString()),g.searchParams.append("method",h.toString()),g.searchParams.append("madhab",("Shafi"===u?1:2).toString());try{console.log("[Client] Fetching prayer times from Aladhan API: ".concat(g.toString()));let t=await fetch(g.toString());if(!t.ok)return console.error("[Client] Aladhan API error: ".concat(t.status," ").concat(t.statusText)),{};let h=await t.json();if(console.log("[Client] Aladhan API response received:",h),200!==h.code||!h.data)return{};let p=h.data.timings;return{success:!0,data:{date:null==(r=h.data.date)?void 0:r.readable,location:{latitude:null!=(l=null==(n=h.data.meta)?void 0:n.latitude)?l:e,longitude:null!=(c=null==(s=h.data.meta)?void 0:s.longitude)?c:a},calculation_method:null!=(d=null==(o=h.data.meta)||null==(i=o.method)?void 0:i.name)?d:m,madhab:u,prayer_times:{fajr:p.Fajr,sunrise:p.Sunrise,dhuhr:p.Dhuhr,asr:p.Asr,maghrib:p.Maghrib,isha:p.Isha}}}}catch(e){return console.error("[Client] Error fetching prayer times:",e),{}}}function s(){return new Promise((e,a)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>e(a),e=>a(e),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):a(Error("Geolocation is not supported by your browser"))})}function i(e){localStorage.setItem("user-location",JSON.stringify(e))}function o(){{let e=localStorage.getItem("user-location");if(e)try{return JSON.parse(e)}catch(e){}}return null}async function l(){try{console.log("Fetching surah list from EQuran.id");let e=await fetch("https://equran.id/api/v2/surat");if(!e.ok)throw Error("Failed to fetch surah list");let a=await e.json();if(console.log("Surah list response:",a),!a||!a.data)return console.error("Invalid API response structure"),[];return a.data}catch(e){return console.error("Error fetching surah list:",e),[]}}async function c(e){try{console.log("Fetching surah ".concat(e," from EQuran.id"));let a=await fetch("https://equran.id/api/v2/surat/".concat(e));if(!a.ok)throw console.error("API responded with status: ".concat(a.status)),Error("Failed to fetch surah detail: ".concat(a.status));let t=await a.json();if(console.log("Surah detail response:",t),!t||!t.data)return console.error("Invalid API response structure:",t),null;return t.data}catch(e){return console.error("Error fetching surah detail:",e),null}}function d(e){return e.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function u(){let e=new Date;return new Intl.DateTimeFormat("id-ID-u-ca-islamic",{day:"numeric",month:"long",year:"numeric"}).format(e)}async function m(){try{console.log("Fetching provinces from EQuran.id");let e=await fetch("https://equran.id/api/v2/imsakiyah/provinsi");if(!e.ok)throw Error("Failed to fetch provinces");let a=await e.json();if(console.log("Provinces response:",a),!a||!a.data||!Array.isArray(a.data))return console.error("Invalid API response structure"),[];return a.data}catch(e){return console.error("Error fetching provinces:",e),[]}}async function h(e){try{console.log("Fetching cities for province: ".concat(e));let a=await fetch("https://equran.id/api/v2/imsakiyah/kabkota",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provinsi:e})});if(!a.ok)throw Error("Failed to fetch cities");let t=await a.json();if(console.log("Cities response:",t),!t||!t.data||!Array.isArray(t.data))return console.error("Invalid API response structure"),[];return t.data}catch(e){return console.error("Error fetching cities:",e),[]}}async function g(e){try{console.log("Fetching imsakiyah schedule for:",e);let a=await fetch("https://equran.id/api/v2/imsakiyah",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("Failed to fetch imsakiyah schedule");let t=await a.json();if(console.log("Imsakiyah schedule response:",t),!t||!t.data||!t.data.imsakiyah)return console.error("Invalid API response structure"),[];return t.data.imsakiyah}catch(e){return console.error("Error fetching imsakiyah schedule:",e),[]}}async function p(e,a){let t="https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(a,"&zoom=10&accept-language=id-ID");try{console.log("Reverse geocoding for:",e,a);let r=await fetch(t,{headers:{"User-Agent":"Quran-Online-App"}});if(!r.ok)throw Error("Failed to reverse geocode");let n=await r.json();if(console.log("Reverse geocode response:",n),!n||!n.address)return console.error("Invalid geocode response"),null;let s=n.address,i=s.city||s.town||s.municipality||s.county||"",o=s.state||"";if(i=i.replace(/^Kota\s+/i,"").replace(/^Kabupaten\s+/i,"").replace(/^Kab\s+/i,"").trim(),o=o.replace(/^Provinsi\s+/i,"").replace(/^Prov\.\s+/i,"").trim(),!i||!o)return console.error("Could not extract city or province from geocode result"),null;return{province:o,city:i,fullAddress:n.display_name||""}}catch(e){return console.error("Error reverse geocoding:",e),null}}},9435:(e,a,t)=>{Promise.resolve().then(t.bind(t,3430))}},e=>{e.O(0,[441,696,358],()=>e(e.s=9435)),_N_E=e.O()}]);