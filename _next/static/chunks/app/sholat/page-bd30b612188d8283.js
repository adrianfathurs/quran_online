(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[350],{2391:(e,t,a)=>{"use strict";a.d(t,{B:()=>i});var r=a(3372);let n={id:{nav:{home:"Beranda",sholat:"Jadwal Sholat",quran:"Al-Qur'an",puasa:"Jadwal Puasa"},home:{title:"Selamat Datang",subtitle:"Website Islami untuk memudahkan ibadah harian Anda",prayerTimes:"Jadwal Sholat",quranReading:"Baca Al-Qur'an",fastingSchedule:"Jadwal Puasa 2026"},sholat:{title:"Jadwal Sholat",selectCity:"Pilih Kota",today:"Hari Ini",subuh:"Subuh",dzuhur:"Dzuhur",ashar:"Ashar",maghrib:"Maghrib",isya:"Isya"},quran:{title:"Al-Qur'an",search:"Cari Surah",read:"Baca",verses:"Ayat",lastRead:"Terakhir Dibaca",markRead:"Tandai Terakhir Dibaca",audio:"Audio"},puasa:{title:"Jadwal Puasa Ramadhan 2026",ramadhan:"Ramadhan 2026",day:"Hari",imsak:"Imsak",buka:"Buka"}},en:{nav:{home:"Home",sholat:"Prayer Times",quran:"Quran",puasa:"Fasting Schedule"},home:{title:"Welcome",subtitle:"Islamic website to support your daily worship",prayerTimes:"Prayer Times",quranReading:"Read Quran",fastingSchedule:"Fasting Schedule 2026"},sholat:{title:"Prayer Times",selectCity:"Select City",today:"Today",subuh:"Fajr",dzuhur:"Dhuhr",ashar:"Asr",maghrib:"Maghrib",isya:"Isha"},quran:{title:"Al-Qur'an",search:"Search Surah",read:"Read",verses:"Verses",lastRead:"Last Read",markRead:"Mark Last Read",audio:"Audio"},puasa:{title:"Ramadhan Fasting Schedule 2026",ramadhan:"Ramadhan 2026",day:"Day",imsak:"Imsak",buka:"Iftar"}}},i=()=>{let e=(0,r.Z0)();return{t:n[e],language:e,setLanguage:e=>{(0,r.gW)(e),window.location.reload()}}}},2699:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(5155),n=a(2115),i=a(2391),o=a(7621);function s(e){let{onLocationChange:t,currentLocation:i}=e,[s,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=(0,o.getSavedLocation)();e&&t(e)},[]);let m=async()=>{d(!0);try{let e=await (await Promise.resolve().then(a.bind(a,7621))).getUserLocation(),r={lat:e.coords.latitude,lng:e.coords.longitude,name:"Lokasi Saya"};t(r),(0,o.saveLocation)(r)}catch(e){console.error("Error getting location:",e),alert("Gagal mendapatkan lokasi. Pastikan GPS aktif.")}finally{d(!1)}};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsx)("button",{onClick:m,disabled:c,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors min-h-[48px] flex items-center gap-2 disabled:opacity-50",children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,r.jsx)("span",{children:"Mendeteksi..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"\uD83D\uDCCD"}),(0,r.jsx)("span",{children:"Lokasi Saya"})]})}),(0,r.jsxs)("button",{onClick:()=>l(!s),className:"px-4 py-2 bg-gold text-white rounded-lg hover:bg-gold/90 transition-colors min-h-[48px] flex items-center gap-2",children:[(0,r.jsx)("span",{children:"\uD83D\uDDFA️"}),(0,r.jsx)("span",{children:s?"Tutup Peta":"Pilih dari Peta"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Atau pilih kota besar:"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:o.MAJOR_CITIES.map(e=>(0,r.jsx)("button",{onClick:()=>{t(e),(0,o.saveLocation)(e),l(!1)},className:"px-3 py-2 text-sm rounded-lg border-2 transition-colors min-h-[44px] ".concat(i.name===e.name?"border-gold bg-gold/10 text-primary font-semibold":"border-primary/20 bg-white text-primary hover:border-gold/50"),children:e.name},e.name))})]}),s&&(0,r.jsxs)("div",{className:"bg-soft rounded-xl p-6 border-2 border-primary/20",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary mb-4",children:"Pilih Lokasi di Peta Indonesia"}),(0,r.jsxs)("div",{className:"relative bg-white rounded-lg p-4 border-2 border-primary/10",children:[(0,r.jsxs)("svg",{viewBox:"0 0 200 300",className:"w-full h-auto cursor-crosshair",onClick:e=>{let a=e.currentTarget.getBoundingClientRect(),r=(e.clientX-a.left)/a.width,n=6+(1-(e.clientY-a.top)/a.height)*20-10,i=95+30*r,s={lat:Math.round(100*n)/100,lng:Math.round(100*i)/100,name:"Lat: ".concat(Math.round(100*n)/100,", Lng: ").concat(Math.round(100*i)/100)};t(s),(0,o.saveLocation)(s)},children:[(0,r.jsx)("path",{d:"M 60 20 L 80 10 L 120 15 L 140 30 L 150 50 L 145 80 L 130 100 L 110 120 L 100 150 L 90 160 L 70 140 L 50 120 L 40 90 L 45 60 L 50 40 Z",fill:"#E6F4EA",stroke:"#0F3D2E",strokeWidth:"2",className:"hover:fill-gold/20 transition-colors"}),i&&(0,r.jsx)("circle",{cx:(i.lng-95)/30*200,cy:(1-(i.lat+10)/20)*300,r:"5",fill:"#D4AF37",stroke:"#0F3D2E",strokeWidth:"2"})]}),(0,r.jsx)("p",{className:"text-xs text-primary/60 mt-2 text-center",children:"Klik pada peta untuk memilih lokasi"})]}),i&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-white rounded-lg border-2 border-gold/30",children:[(0,r.jsx)("p",{className:"text-sm text-primary/70",children:"Lokasi yang dipilih:"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-primary",children:i.name||"".concat(i.lat,", ").concat(i.lng)})]})]})]})}var l=a(8297);function c(e){let{name:t,time:a,isActive:n=!1}=e;return(0,r.jsxs)(l.A,{variant:n?"gold":"default",className:"text-center",children:[(0,r.jsx)("p",{className:"text-lg font-semibold mb-2 ".concat(n?"text-gold":"text-primary"),children:t}),(0,r.jsx)("p",{className:"text-2xl font-bold ".concat(n?"text-primary":"text-primary/80"),children:a})]})}async function d(){return"Notification"in window?"granted"===Notification.permission||"denied"!==Notification.permission&&"granted"===await Notification.requestPermission():(console.warn("Notifications not supported"),!1)}function m(e,t){if(!("Notification"in window)||"granted"!==Notification.permission)return;let a={body:"Waktu sholat ".concat(e," telah tiba! (").concat(t,")"),icon:"/icon-192x192.png",badge:"/icon-192x192.png",dir:"auto",lang:"id-ID",tag:"prayer-".concat(e)};try{let e=new Notification("\uD83D\uDD4C Ayook Sholat!",a);setTimeout(()=>{e.close()},1e4),function(){try{let e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),a=e.createGain();t.connect(a),a.connect(e.destination),t.frequency.value=800,t.type="sine",a.gain.setValueAtTime(.3,e.currentTime),a.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5)}catch(e){console.error("Error playing sound:",e)}}()}catch(e){console.error("Error showing notification:",e)}}function u(e){let[t,a]=e.split(":").map(Number);return 60*t+a}function h(e){var t;let{prayerTimes:a,isLoading:o}=e,{t:s}=(0,i.B)(),[l,h]=(0,n.useState)(!1),[g,p]=(0,n.useState)(null),[x,f]=(0,n.useState)(!1),y=(0,n.useRef)(null),b=(0,n.useRef)(new Set),v=(0,n.useRef)(null);(0,n.useEffect)(()=>{let{permission:e,canRequest:t}="Notification"in window?{permission:Notification.permission,canRequest:"default"===Notification.permission}:{permission:"denied",canRequest:!1};if(h("granted"===e),t){let e=setTimeout(()=>{d().then(e=>{h(e)})},2e3);return()=>clearTimeout(e)}},[]),(0,n.useEffect)(()=>{var e;if(!(null==a||null==(e=a.data)?void 0:e.prayer_times)||!l)return;let t=a.data.prayer_times;v.current&&clearInterval(v.current),b.current=new Set;let r=()=>{let e=[{key:"fajr",name:s.sholat.subuh,time:t.fajr},{key:"dhuhr",name:s.sholat.dzuhur,time:t.dhuhr},{key:"asr",name:s.sholat.ashar,time:t.asr},{key:"maghrib",name:s.sholat.maghrib,time:t.maghrib},{key:"isha",name:s.sholat.isya,time:t.isha}],a=function(){let e=new Date;return 60*e.getHours()+e.getMinutes()}(),r=null;for(let t of(console.log("[Prayer Timer] Current time: ".concat(Math.floor(a/60),":").concat((a%60).toString().padStart(2,"0"))),e)){let e=u(t.time);if(e>a){let n=e-a;r={name:t.name,time:t.time,minutesLeft:n},console.log("[Prayer Timer] Next prayer: ".concat(t.name," at ").concat(t.time," (").concat(n," minutes left)"));break}}if(!r&&e.length>0){let t=e[0],n=u(t.time);r={name:t.name,time:t.time,minutesLeft:1440-a+n},console.log("[Prayer Timer] Next prayer: ".concat(t.name," (tomorrow) at ").concat(t.time," (").concat(r.minutesLeft," minutes left)"))}if(p(r),r){let{name:e,time:t,minutesLeft:a}=r,n="".concat(e,"-").concat(t);a>=0&&a<=2&&!b.current.has(n)?(console.log("[Prayer Timer] \uD83C\uDFAF TRIGGERING NOTIFICATION for ".concat(e," at ").concat(t)),m(e,t),b.current.add(n)):a>2&&console.log("[Prayer Timer] ⏰ Waiting... ".concat(a," minutes until ").concat(e))}};return r(),v.current=setInterval(()=>{r()},3e4),()=>{v.current&&clearInterval(v.current),y.current&&clearTimeout(y.current)}},[a,l,s]);let j=async()=>{h(await d())};if(o)return(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gold border-t-transparent"}),(0,r.jsx)("p",{className:"mt-4 text-primary/70",children:"Loading prayer times..."})]});if(!a||!(null==(t=a.data)?void 0:t.prayer_times))return(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-primary/70",children:"Failed to load prayer times"}),(0,r.jsx)("p",{className:"text-sm text-primary/50 mt-2",children:"Please try selecting a different location or method"})]});let k=a.data.prayer_times,N=a.data.current_status,w=a.data.calculation_method,S=a.data.madhab,A=[{key:"fajr",name:s.sholat.subuh,time:k.fajr}];return k.sunrise&&A.push({key:"sunrise",name:"Terbit",time:k.sunrise}),A.push({key:"dhuhr",name:s.sholat.dzuhur,time:k.dhuhr},{key:"asr",name:s.sholat.ashar,time:k.asr},{key:"maghrib",name:s.sholat.maghrib,time:k.maghrib},{key:"isha",name:s.sholat.isya,time:k.isha}),(0,r.jsxs)("div",{children:[!l&&(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gold/20 to-gold/10 border-2 border-gold/40 rounded-xl p-4 mb-6 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-3xl",children:"\uD83D\uDD14"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-primary",children:"Aktifkan Notifikasi Sholat"}),(0,r.jsx)("p",{className:"text-sm text-primary/70",children:"Dapatkan pengingat saat waktu sholat tiba"})]})]}),(0,r.jsx)("button",{onClick:j,className:"px-4 py-2 bg-gold text-primary rounded-lg font-semibold hover:bg-gold/90 transition-colors min-h-[44px]",children:"Aktifkan"})]}),l&&g&&(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gold/20 to-gold/10 border-2 border-gold/40 rounded-xl p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD14"}),(0,r.jsx)("p",{className:"font-semibold text-primary",children:x?"⏰ Alarm Aktif":"Notifikasi Aktif"})]}),(0,r.jsxs)("p",{className:"text-lg text-primary text-center mb-3",children:["Sholat berikutnya: ",(0,r.jsx)("span",{className:"font-bold text-gold",children:g.name}),(0,r.jsxs)("span",{className:"text-primary/70 text-base ml-2",children:["(",g.time," - ",g.minutesLeft>0?"".concat(g.minutesLeft," menit lagi"):"Sekarang!",")"]})]}),(0,r.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,r.jsx)("button",{onClick:()=>{if(l){let e=new Date;m("Test Sholat","".concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")))}},className:"px-3 py-2 bg-white text-primary rounded-lg font-semibold hover:bg-soft transition-colors min-h-[44px] text-sm border-2 border-gold/30",children:"\uD83D\uDD14 Test"}),x?(0,r.jsx)("button",{onClick:()=>{y.current&&(clearTimeout(y.current),y.current=null),f(!1),console.log("[Alarm] ❌ Alarm cleared")},className:"px-3 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition-colors min-h-[44px] text-sm",children:"❌ Batal"}):(0,r.jsx)("button",{onClick:()=>{if(!g||!l)return;let{name:e,time:t,minutesLeft:a}=g,r=60*a*1e3;y.current&&clearTimeout(y.current);let n="".concat(e,"-").concat(t);b.current.delete(n),y.current=setTimeout(()=>{console.log("[Alarm] \uD83D\uDD14 TRIGGERING NOTIFICATION for ".concat(e," at ").concat(t)),m(e,t),b.current.add(n),f(!1)},r),f(!0),console.log("[Alarm] ⏰ Alarm set for ".concat(e," at ").concat(t," (").concat(a," minutes from now)"))},className:"px-3 py-2 bg-gold text-primary rounded-lg font-semibold hover:bg-gold/90 transition-colors min-h-[44px] text-sm",children:"⏰ Set Alarm"})]})]}),N&&(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gold/20 to-gold/10 border-2 border-gold/40 rounded-xl p-6 mb-8 text-center",children:[(0,r.jsxs)("p",{className:"text-sm text-primary/60 mb-2",children:[w&&"Metode: ".concat(w),w&&S&&" • ",S&&"Madhab: ".concat(S)]}),(0,r.jsxs)("h3",{className:"text-xl font-bold text-primary mb-2",children:["Waktu sholat saat ini: ",N.current_prayer]}),(0,r.jsxs)("p",{className:"text-lg text-gold font-semibold",children:["Sholat berikutnya: ",N.next_prayer,void 0!==N.minutes_until_next&&(0,r.jsxs)("span",{className:"text-primary/80 text-base ml-2",children:["(",N.minutes_until_next," menit lagi)"]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:A.map(e=>(0,r.jsx)(c,{name:e.name,time:e.time},e.key))})]})}function g(){let{t:e}=(0,i.B)(),[t,a]=(0,n.useState)({lat:-6.2088,lng:106.8456,name:"Jakarta"}),[l,c]=(0,n.useState)("MuslimWorldLeague"),[d,m]=(0,n.useState)("Shafi"),[u,g]=(0,n.useState)(null),[p,x]=(0,n.useState)(!0),[f,y]=(0,n.useState)(null),[b,v]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{v(!0);let e=(0,o.getSavedLocation)();e&&a(e)},[]),(0,n.useEffect)(()=>{let e=!0;return(async()=>{x(!0),y(null);try{console.log("Fetching prayer times for lat: ".concat(t.lat,", lng: ").concat(t.lng));let a=await (0,o.getPrayerTimes)(t.lat,t.lng,d,l);if(!e)return;(null==a?void 0:a.data)?g(a):y("Failed to load prayer times")}catch(t){console.error("Error fetching prayer times:",t),e&&y("An error occurred while loading prayer times")}finally{e&&x(!1)}})(),()=>{e=!1}},[t,d,l]),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-primary mb-4",children:e.sholat.title}),b&&(0,r.jsx)("p",{className:"text-lg text-primary/70",suppressHydrationWarning:!0,children:(0,o.formatDate)(new Date)})]}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,r.jsxs)("div",{className:"bg-white border-2 border-soft/30 rounded-xl p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-primary mb-4",children:"Pilih Lokasi"}),(0,r.jsx)(s,{onLocationChange:a,currentLocation:t}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Metode Perhitungan:"}),(0,r.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"w-full md:w-96 px-4 py-3 rounded-xl border-2 border-primary/20 bg-white text-primary focus:border-gold focus:outline-none min-h-[48px]",children:[(0,r.jsx)("option",{value:"MuslimWorldLeague",children:"Muslim World League"}),(0,r.jsx)("option",{value:"Egypt",children:"Egyptian General Authority"}),(0,r.jsx)("option",{value:"Karachi",children:"University of Islamic Sciences, Karachi"}),(0,r.jsx)("option",{value:"UmmAlQura",children:"Umm Al-Qura University, Makkah"}),(0,r.jsx)("option",{value:"Dubai",children:"Dubai (Awqafi)"}),(0,r.jsx)("option",{value:"MoonsightingCommittee",children:"Moonsighting Committee"}),(0,r.jsx)("option",{value:"NorthAmerica",children:"Islamic Society of North America (ISNA)"}),(0,r.jsx)("option",{value:"Kuwait",children:"Kuwait"}),(0,r.jsx)("option",{value:"Qatar",children:"Qatar"}),(0,r.jsx)("option",{value:"Singapore",children:"Singapore"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Madhab:"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>m("Shafi"),className:"px-4 py-2 rounded-lg border-2 transition-colors min-h-[44px] ".concat("Shafi"===d?"border-gold bg-gold/10 text-primary font-semibold":"border-primary/20 bg-white text-primary hover:border-gold/50"),children:"Syafi'i"}),(0,r.jsx)("button",{onClick:()=>m("Hanafi"),className:"px-4 py-2 rounded-lg border-2 transition-colors min-h-[44px] ".concat("Hanafi"===d?"border-gold bg-gold/10 text-primary font-semibold":"border-primary/20 bg-white text-primary hover:border-gold/50"),children:"Hanafi"})]})]})]})}),f&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-6 text-center max-w-4xl mx-auto",children:f}),(0,r.jsx)(h,{prayerTimes:u,isLoading:p}),(0,r.jsxs)("div",{className:"mt-8 text-center text-sm text-primary/50",children:["Data provided by ",(0,r.jsx)("a",{href:"https://ummahapi.com",target:"_blank",rel:"noopener noreferrer",className:"text-gold hover:underline",children:"Ummah API"})]})]})}},3372:(e,t,a)=>{"use strict";a.d(t,{CP:()=>m,DA:()=>d,FB:()=>o,Z0:()=>c,gW:()=>l,y4:()=>s});let r="imsakiyah-city",n="quran-progress",i="app-language",o=(e,t,a)=>{let r={surah:e,ayah:t,surahName:a,timestamp:Date.now()};localStorage.setItem(n,JSON.stringify(r))},s=()=>{let e=localStorage.getItem(n);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},l=e=>{localStorage.setItem(i,e)},c=()=>"en"===localStorage.getItem(i)?"en":"id",d=(e,t)=>{localStorage.setItem(r,JSON.stringify({province:e,city:t}))},m=()=>{let e=localStorage.getItem(r);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}},7621:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MAJOR_CITIES:()=>r,formatDate:()=>d,getAllSurahs:()=>l,getCities:()=>h,getHijriDate:()=>m,getImsakiyahSchedule:()=>g,getPrayerTimes:()=>n,getProvinces:()=>u,getSavedLocation:()=>s,getSurahDetail:()=>c,getUserLocation:()=>i,reverseGeocode:()=>p,saveLocation:()=>o});let r=[{lat:-6.2088,lng:106.8456,name:"Jakarta"},{lat:-7.2575,lng:112.7521,name:"Surabaya"},{lat:-6.9175,lng:107.6191,name:"Bandung"},{lat:3.5952,lng:98.6722,name:"Medan"},{lat:-6.9667,lng:110.4167,name:"Semarang"},{lat:-5.1477,lng:119.4328,name:"Makassar"},{lat:-7.7956,lng:110.3695,name:"Yogyakarta"},{lat:-7.9797,lng:112.6304,name:"Malang"},{lat:-2.9761,lng:104.7754,name:"Palembang"},{lat:-8.6705,lng:115.2126,name:"Denpasar"},{lat:-.9471,lng:100.4172,name:"Padang"},{lat:.5071,lng:101.4479,name:"Pekanbaru"}];async function n(e,t){var a,r,n,i,o,s,l,c,d;let m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Shafi",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"MuslimWorldLeague",h=null!=(a=({MuslimWorldLeague:3,Egyptian:5,Karachi:1,UmmAlQura:4,Dubai:8,MoonsightingCommittee:9,NorthAmerica:2,Kuwait:10,Qatar:11,Singapore:15})[u])?a:3,g=new URL("https://api.aladhan.com/v1/timings");g.searchParams.append("latitude",e.toString()),g.searchParams.append("longitude",t.toString()),g.searchParams.append("method",h.toString()),g.searchParams.append("madhab",("Shafi"===m?1:2).toString());try{console.log("[Client] Fetching prayer times from Aladhan API: ".concat(g.toString()));let a=await fetch(g.toString());if(!a.ok)return console.error("[Client] Aladhan API error: ".concat(a.status," ").concat(a.statusText)),{};let h=await a.json();if(console.log("[Client] Aladhan API response received:",h),200!==h.code||!h.data)return{};let p=h.data.timings;return{success:!0,data:{date:null==(r=h.data.date)?void 0:r.readable,location:{latitude:null!=(l=null==(n=h.data.meta)?void 0:n.latitude)?l:e,longitude:null!=(c=null==(i=h.data.meta)?void 0:i.longitude)?c:t},calculation_method:null!=(d=null==(s=h.data.meta)||null==(o=s.method)?void 0:o.name)?d:u,madhab:m,prayer_times:{fajr:p.Fajr,sunrise:p.Sunrise,dhuhr:p.Dhuhr,asr:p.Asr,maghrib:p.Maghrib,isha:p.Isha}}}}catch(e){return console.error("[Client] Error fetching prayer times:",e),{}}}function i(){return new Promise((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>e(t),e=>t(e),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):t(Error("Geolocation is not supported by your browser"))})}function o(e){localStorage.setItem("user-location",JSON.stringify(e))}function s(){{let e=localStorage.getItem("user-location");if(e)try{return JSON.parse(e)}catch(e){}}return null}async function l(){try{console.log("Fetching surah list from EQuran.id");let e=await fetch("https://equran.id/api/v2/surat");if(!e.ok)throw Error("Failed to fetch surah list");let t=await e.json();if(console.log("Surah list response:",t),!t||!t.data)return console.error("Invalid API response structure"),[];return t.data}catch(e){return console.error("Error fetching surah list:",e),[]}}async function c(e){try{console.log("Fetching surah ".concat(e," from EQuran.id"));let t=await fetch("https://equran.id/api/v2/surat/".concat(e));if(!t.ok)throw console.error("API responded with status: ".concat(t.status)),Error("Failed to fetch surah detail: ".concat(t.status));let a=await t.json();if(console.log("Surah detail response:",a),!a||!a.data)return console.error("Invalid API response structure:",a),null;return a.data}catch(e){return console.error("Error fetching surah detail:",e),null}}function d(e){return e.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function m(){let e=new Date;return new Intl.DateTimeFormat("id-ID-u-ca-islamic",{day:"numeric",month:"long",year:"numeric"}).format(e)}async function u(){try{console.log("Fetching provinces from EQuran.id");let e=await fetch("https://equran.id/api/v2/imsakiyah/provinsi");if(!e.ok)throw Error("Failed to fetch provinces");let t=await e.json();if(console.log("Provinces response:",t),!t||!t.data||!Array.isArray(t.data))return console.error("Invalid API response structure"),[];return t.data}catch(e){return console.error("Error fetching provinces:",e),[]}}async function h(e){try{console.log("Fetching cities for province: ".concat(e));let t=await fetch("https://equran.id/api/v2/imsakiyah/kabkota",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provinsi:e})});if(!t.ok)throw Error("Failed to fetch cities");let a=await t.json();if(console.log("Cities response:",a),!a||!a.data||!Array.isArray(a.data))return console.error("Invalid API response structure"),[];return a.data}catch(e){return console.error("Error fetching cities:",e),[]}}async function g(e){try{console.log("Fetching imsakiyah schedule for:",e);let t=await fetch("https://equran.id/api/v2/imsakiyah",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to fetch imsakiyah schedule");let a=await t.json();if(console.log("Imsakiyah schedule response:",a),!a||!a.data||!a.data.imsakiyah)return console.error("Invalid API response structure"),[];return a.data.imsakiyah}catch(e){return console.error("Error fetching imsakiyah schedule:",e),[]}}async function p(e,t){let a="https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(t,"&zoom=10&accept-language=id-ID");try{console.log("Reverse geocoding for:",e,t);let r=await fetch(a,{headers:{"User-Agent":"Quran-Online-App"}});if(!r.ok)throw Error("Failed to reverse geocode");let n=await r.json();if(console.log("Reverse geocode response:",n),!n||!n.address)return console.error("Invalid geocode response"),null;let i=n.address,o=i.city||i.town||i.municipality||i.county||"",s=i.state||"";if(o=o.replace(/^Kota\s+/i,"").replace(/^Kabupaten\s+/i,"").replace(/^Kab\s+/i,"").trim(),s=s.replace(/^Provinsi\s+/i,"").replace(/^Prov\.\s+/i,"").trim(),!o||!s)return console.error("Could not extract city or province from geocode result"),null;return{province:s,city:o,fullAddress:n.display_name||""}}catch(e){return console.error("Error reverse geocoding:",e),null}}},8297:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(5155);let n={default:"bg-white border border-soft/30 shadow-sm",highlighted:"bg-soft border-2 border-primary/20 shadow-md",gold:"bg-gradient-to-br from-gold/20 to-gold/10 border-2 border-gold/40 shadow-md"};function i(e){let{children:t,variant:a="default",className:i="",onClick:o}=e;return(0,r.jsx)("div",{className:"".concat("rounded-xl p-6 transition-all duration-200"," ").concat(n[a]," ").concat(o?"hover:shadow-lg cursor-pointer":""," ").concat(i),onClick:o,children:t})}},9990:(e,t,a)=>{Promise.resolve().then(a.bind(a,2699))}},e=>{e.O(0,[441,696,358],()=>e(e.s=9990)),_N_E=e.O()}]);