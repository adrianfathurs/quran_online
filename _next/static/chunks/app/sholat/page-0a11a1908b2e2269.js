(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[350],{218:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var r=t(5155),n=t(2115),i=t(2391),s=t(7621);function l(e){let{onLocationChange:a,currentLocation:i}=e,[l,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=(0,s.getSavedLocation)();e&&a(e)},[]);let m=async()=>{c(!0);try{let e=await (await Promise.resolve().then(t.bind(t,7621))).getUserLocation(),r={lat:e.coords.latitude,lng:e.coords.longitude,name:"Lokasi Saya"};a(r),(0,s.saveLocation)(r)}catch(e){console.error("Error getting location:",e),alert("Gagal mendapatkan lokasi. Pastikan GPS aktif.")}finally{c(!1)}};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsx)("button",{onClick:m,disabled:d,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors min-h-[48px] flex items-center gap-2 disabled:opacity-50",children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,r.jsx)("span",{children:"Mendeteksi..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"\uD83D\uDCCD"}),(0,r.jsx)("span",{children:"Lokasi Saya"})]})}),(0,r.jsxs)("button",{onClick:()=>o(!l),className:"px-4 py-2 bg-gold text-white rounded-lg hover:bg-gold/90 transition-colors min-h-[48px] flex items-center gap-2",children:[(0,r.jsx)("span",{children:"\uD83D\uDDFA️"}),(0,r.jsx)("span",{children:l?"Tutup Peta":"Pilih dari Peta"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Atau pilih kota besar:"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:s.MAJOR_CITIES.map(e=>(0,r.jsx)("button",{onClick:()=>{a(e),(0,s.saveLocation)(e),o(!1)},className:"px-3 py-2 text-sm rounded-lg border-2 transition-colors min-h-[44px] ".concat(i.name===e.name?"border-gold bg-gold/10 text-primary font-semibold":"border-primary/20 bg-white text-primary hover:border-gold/50"),children:e.name},e.name))})]}),l&&(0,r.jsxs)("div",{className:"bg-soft rounded-xl p-6 border-2 border-primary/20",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary mb-4",children:"Pilih Lokasi di Peta Indonesia"}),(0,r.jsxs)("div",{className:"relative bg-white rounded-lg p-4 border-2 border-primary/10",children:[(0,r.jsxs)("svg",{viewBox:"0 0 200 300",className:"w-full h-auto cursor-crosshair",onClick:e=>{let t=e.currentTarget.getBoundingClientRect(),r=(e.clientX-t.left)/t.width,n=6+(1-(e.clientY-t.top)/t.height)*20-10,i=95+30*r,l={lat:Math.round(100*n)/100,lng:Math.round(100*i)/100,name:"Lat: ".concat(Math.round(100*n)/100,", Lng: ").concat(Math.round(100*i)/100)};a(l),(0,s.saveLocation)(l)},children:[(0,r.jsx)("path",{d:"M 60 20 L 80 10 L 120 15 L 140 30 L 150 50 L 145 80 L 130 100 L 110 120 L 100 150 L 90 160 L 70 140 L 50 120 L 40 90 L 45 60 L 50 40 Z",fill:"#E6F4EA",stroke:"#0F3D2E",strokeWidth:"2",className:"hover:fill-gold/20 transition-colors"}),i&&(0,r.jsx)("circle",{cx:(i.lng-95)/30*200,cy:(1-(i.lat+10)/20)*300,r:"5",fill:"#D4AF37",stroke:"#0F3D2E",strokeWidth:"2"})]}),(0,r.jsx)("p",{className:"text-xs text-primary/60 mt-2 text-center",children:"Klik pada peta untuk memilih lokasi"})]}),i&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-white rounded-lg border-2 border-gold/30",children:[(0,r.jsx)("p",{className:"text-sm text-primary/70",children:"Lokasi yang dipilih:"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-primary",children:i.name||"".concat(i.lat,", ").concat(i.lng)})]})]})]})}var o=t(8297);function d(e){let{name:a,time:t,isActive:n=!1}=e;return(0,r.jsxs)(o.A,{variant:n?"gold":"default",className:"text-center",children:[(0,r.jsx)("p",{className:"text-lg font-semibold mb-2 ".concat(n?"text-gold":"text-primary"),children:a}),(0,r.jsx)("p",{className:"text-2xl font-bold ".concat(n?"text-primary":"text-primary/80"),children:t})]})}function c(e){var a;let{prayerTimes:t,isLoading:n}=e,{t:s}=(0,i.B)();if(n)return(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gold border-t-transparent"}),(0,r.jsx)("p",{className:"mt-4 text-primary/70",children:"Loading prayer times..."})]});if(!t||!(null==(a=t.data)?void 0:a.prayer_times))return(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-primary/70",children:"Failed to load prayer times"}),(0,r.jsx)("p",{className:"text-sm text-primary/50 mt-2",children:"Please try selecting a different location or method"})]});let l=t.data.prayer_times,o=t.data.current_status,c=t.data.calculation_method,m=t.data.madhab,u=[{key:"fajr",name:s.sholat.subuh,time:l.fajr}];return l.sunrise&&u.push({key:"sunrise",name:"Terbit",time:l.sunrise}),u.push({key:"dhuhr",name:s.sholat.dzuhur,time:l.dhuhr},{key:"asr",name:s.sholat.ashar,time:l.asr},{key:"maghrib",name:s.sholat.maghrib,time:l.maghrib},{key:"isha",name:s.sholat.isya,time:l.isha}),(0,r.jsxs)("div",{children:[o&&(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gold/20 to-gold/10 border-2 border-gold/40 rounded-xl p-6 mb-8 text-center",children:[(0,r.jsxs)("p",{className:"text-sm text-primary/60 mb-2",children:[c&&"Metode: ".concat(c),c&&m&&" • ",m&&"Madhab: ".concat(m)]}),(0,r.jsxs)("h3",{className:"text-xl font-bold text-primary mb-2",children:["Waktu sholat saat ini: ",o.current_prayer]}),(0,r.jsxs)("p",{className:"text-lg text-gold font-semibold",children:["Sholat berikutnya: ",o.next_prayer,void 0!==o.minutes_until_next&&(0,r.jsxs)("span",{className:"text-primary/80 text-base ml-2",children:["(",o.minutes_until_next," menit lagi)"]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:u.map(e=>(0,r.jsx)(d,{name:e.name,time:e.time},e.key))})]})}function m(){let{t:e}=(0,i.B)(),[a,t]=(0,n.useState)({lat:-6.2088,lng:106.8456,name:"Jakarta"}),[o,d]=(0,n.useState)("MuslimWorldLeague"),[m,u]=(0,n.useState)("Shafi"),[h,g]=(0,n.useState)(null),[p,x]=(0,n.useState)(!0),[b,y]=(0,n.useState)(null),[f,j]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{j(!0);let e=(0,s.getSavedLocation)();e&&t(e)},[]),(0,n.useEffect)(()=>{let e=!0;return(async()=>{x(!0),y(null);try{console.log("Fetching prayer times for lat: ".concat(a.lat,", lng: ").concat(a.lng));let t=await (0,s.getPrayerTimes)(a.lat,a.lng,m,o);if(!e)return;(null==t?void 0:t.data)?g(t.data):y("Failed to load prayer times")}catch(a){console.error("Error fetching prayer times:",a),e&&y("An error occurred while loading prayer times")}finally{e&&x(!1)}})(),()=>{e=!1}},[a,m,o]),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-primary mb-4",children:e.sholat.title}),f&&(0,r.jsx)("p",{className:"text-lg text-primary/70",suppressHydrationWarning:!0,children:(0,s.formatDate)(new Date)})]}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,r.jsxs)("div",{className:"bg-white border-2 border-soft/30 rounded-xl p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-primary mb-4",children:"Pilih Lokasi"}),(0,r.jsx)(l,{onLocationChange:t,currentLocation:a}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Metode Perhitungan:"}),(0,r.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"w-full md:w-96 px-4 py-3 rounded-xl border-2 border-primary/20 bg-white text-primary focus:border-gold focus:outline-none min-h-[48px]",children:[(0,r.jsx)("option",{value:"MuslimWorldLeague",children:"Muslim World League"}),(0,r.jsx)("option",{value:"Egypt",children:"Egyptian General Authority"}),(0,r.jsx)("option",{value:"Karachi",children:"University of Islamic Sciences, Karachi"}),(0,r.jsx)("option",{value:"UmmAlQura",children:"Umm Al-Qura University, Makkah"}),(0,r.jsx)("option",{value:"Dubai",children:"Dubai (Awqafi)"}),(0,r.jsx)("option",{value:"MoonsightingCommittee",children:"Moonsighting Committee"}),(0,r.jsx)("option",{value:"NorthAmerica",children:"Islamic Society of North America (ISNA)"}),(0,r.jsx)("option",{value:"Kuwait",children:"Kuwait"}),(0,r.jsx)("option",{value:"Qatar",children:"Qatar"}),(0,r.jsx)("option",{value:"Singapore",children:"Singapore"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Madhab:"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>u("Shafi"),className:"px-4 py-2 rounded-lg border-2 transition-colors min-h-[44px] ".concat("Shafi"===m?"border-gold bg-gold/10 text-primary font-semibold":"border-primary/20 bg-white text-primary hover:border-gold/50"),children:"Syafi'i"}),(0,r.jsx)("button",{onClick:()=>u("Hanafi"),className:"px-4 py-2 rounded-lg border-2 transition-colors min-h-[44px] ".concat("Hanafi"===m?"border-gold bg-gold/10 text-primary font-semibold":"border-primary/20 bg-white text-primary hover:border-gold/50"),children:"Hanafi"})]})]})]})}),b&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-6 text-center max-w-4xl mx-auto",children:b}),(0,r.jsx)(c,{prayerTimes:h,isLoading:p}),(0,r.jsxs)("div",{className:"mt-8 text-center text-sm text-primary/50",children:["Data provided by ",(0,r.jsx)("a",{href:"https://ummahapi.com",target:"_blank",rel:"noopener noreferrer",className:"text-gold hover:underline",children:"Ummah API"})]})]})}},2391:(e,a,t)=>{"use strict";t.d(a,{B:()=>i});var r=t(3372);let n={id:{nav:{home:"Beranda",sholat:"Jadwal Sholat",quran:"Al-Qur'an",puasa:"Jadwal Puasa"},home:{title:"Selamat Datang",subtitle:"Website Islami untuk memudahkan ibadah harian Anda",prayerTimes:"Jadwal Sholat",quranReading:"Baca Al-Qur'an",fastingSchedule:"Jadwal Puasa 2026"},sholat:{title:"Jadwal Sholat",selectCity:"Pilih Kota",today:"Hari Ini",subuh:"Subuh",dzuhur:"Dzuhur",ashar:"Ashar",maghrib:"Maghrib",isya:"Isya"},quran:{title:"Al-Qur'an",search:"Cari Surah",read:"Baca",verses:"Ayat",lastRead:"Terakhir Dibaca",markRead:"Tandai Terakhir Dibaca",audio:"Audio"},puasa:{title:"Jadwal Puasa Ramadhan 2026",ramadhan:"Ramadhan 2026",day:"Hari",imsak:"Imsak",buka:"Buka"}},en:{nav:{home:"Home",sholat:"Prayer Times",quran:"Quran",puasa:"Fasting Schedule"},home:{title:"Welcome",subtitle:"Islamic website to support your daily worship",prayerTimes:"Prayer Times",quranReading:"Read Quran",fastingSchedule:"Fasting Schedule 2026"},sholat:{title:"Prayer Times",selectCity:"Select City",today:"Today",subuh:"Fajr",dzuhur:"Dhuhr",ashar:"Asr",maghrib:"Maghrib",isya:"Isha"},quran:{title:"Al-Qur'an",search:"Search Surah",read:"Read",verses:"Verses",lastRead:"Last Read",markRead:"Mark Last Read",audio:"Audio"},puasa:{title:"Ramadhan Fasting Schedule 2026",ramadhan:"Ramadhan 2026",day:"Day",imsak:"Imsak",buka:"Iftar"}}},i=()=>{let e=(0,r.Z0)();return{t:n[e],language:e,setLanguage:e=>{(0,r.gW)(e),window.location.reload()}}}},3372:(e,a,t)=>{"use strict";t.d(a,{FB:()=>i,Z0:()=>o,gW:()=>l,y4:()=>s});let r="quran-progress",n="app-language",i=(e,a,t)=>{let n={surah:e,ayah:a,surahName:t,timestamp:Date.now()};localStorage.setItem(r,JSON.stringify(n))},s=()=>{let e=localStorage.getItem(r);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},l=e=>{localStorage.setItem(n,e)},o=()=>"en"===localStorage.getItem(n)?"en":"id"},7621:(e,a,t)=>{"use strict";t.r(a),t.d(a,{MAJOR_CITIES:()=>r,formatDate:()=>c,getAllSurahs:()=>o,getHijriDate:()=>m,getPrayerTimes:()=>n,getSavedLocation:()=>l,getSurahDetail:()=>d,getUserLocation:()=>i,saveLocation:()=>s});let r=[{lat:-6.2088,lng:106.8456,name:"Jakarta"},{lat:-7.2575,lng:112.7521,name:"Surabaya"},{lat:-6.9175,lng:107.6191,name:"Bandung"},{lat:3.5952,lng:98.6722,name:"Medan"},{lat:-6.9667,lng:110.4167,name:"Semarang"},{lat:-5.1477,lng:119.4328,name:"Makassar"},{lat:-7.7956,lng:110.3695,name:"Yogyakarta"},{lat:-7.9797,lng:112.6304,name:"Malang"},{lat:-2.9761,lng:104.7754,name:"Palembang"},{lat:-8.6705,lng:115.2126,name:"Denpasar"},{lat:-.9471,lng:100.4172,name:"Padang"},{lat:.5071,lng:101.4479,name:"Pekanbaru"}];async function n(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Shafi",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"MuslimWorldLeague",n=new URL("https://ummahapi.com/api/prayer-times");n.searchParams.append("lat",e.toString()),n.searchParams.append("lng",a.toString()),n.searchParams.append("madhab",t),n.searchParams.append("method",r);try{console.log("[Client] Fetching prayer times from Ummah API: ".concat(n.toString()));let e=await fetch(n.toString(),{headers:{"User-Agent":"Quran-Online-App/1.0",Accept:"application/json"}});if(!e.ok)return console.error("[Client] Ummah API error: ".concat(e.status," ").concat(e.statusText)),{};let a=await e.json();return console.log("[Client] Ummah API response received:",a),a}catch(e){return console.error("[Client] Error fetching prayer times:",e),{}}}function i(){return new Promise((e,a)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>e(a),e=>a(e),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):a(Error("Geolocation is not supported by your browser"))})}function s(e){localStorage.setItem("user-location",JSON.stringify(e))}function l(){{let e=localStorage.getItem("user-location");if(e)try{return JSON.parse(e)}catch(e){}}return null}async function o(){try{console.log("Fetching surah list from EQuran.id");let e=await fetch("https://equran.id/api/v2/surat");if(!e.ok)throw Error("Failed to fetch surah list");let a=await e.json();if(console.log("Surah list response:",a),!a||!a.data)return console.error("Invalid API response structure"),[];return a.data}catch(e){return console.error("Error fetching surah list:",e),[]}}async function d(e){try{console.log("Fetching surah ".concat(e," from EQuran.id"));let a=await fetch("https://equran.id/api/v2/surat/".concat(e));if(!a.ok)throw console.error("API responded with status: ".concat(a.status)),Error("Failed to fetch surah detail: ".concat(a.status));let t=await a.json();if(console.log("Surah detail response:",t),!t||!t.data)return console.error("Invalid API response structure:",t),null;return t.data}catch(e){return console.error("Error fetching surah detail:",e),null}}function c(e){return e.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function m(){let e=new Date;return new Intl.DateTimeFormat("id-ID-u-ca-islamic",{day:"numeric",month:"long",year:"numeric"}).format(e)}},8297:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var r=t(5155);let n={default:"bg-white border border-soft/30 shadow-sm",highlighted:"bg-soft border-2 border-primary/20 shadow-md",gold:"bg-gradient-to-br from-gold/20 to-gold/10 border-2 border-gold/40 shadow-md"};function i(e){let{children:a,variant:t="default",className:i="",onClick:s}=e;return(0,r.jsx)("div",{className:"".concat("rounded-xl p-6 transition-all duration-200"," ").concat(n[t]," ").concat(s?"hover:shadow-lg cursor-pointer":""," ").concat(i),onClick:s,children:a})}},9990:(e,a,t)=>{Promise.resolve().then(t.bind(t,218))}},e=>{e.O(0,[441,696,358],()=>e(e.s=9990)),_N_E=e.O()}]);