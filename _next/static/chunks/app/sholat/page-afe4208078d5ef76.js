(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[350],{218:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>m});var r=t(5155),i=t(2115),n=t(2391),l=t(7621);function s(a){let{onLocationChange:e,currentLocation:n}=a,[s,o]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let a=(0,l.getSavedLocation)();a&&e(a)},[]);let m=async()=>{c(!0);try{let a=await (await Promise.resolve().then(t.bind(t,7621))).getUserLocation(),r={lat:a.coords.latitude,lng:a.coords.longitude,name:"Lokasi Saya"};e(r),(0,l.saveLocation)(r)}catch(a){console.error("Error getting location:",a),alert("Gagal mendapatkan lokasi. Pastikan GPS aktif.")}finally{c(!1)}};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsx)("button",{onClick:m,disabled:d,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors min-h-[48px] flex items-center gap-2 disabled:opacity-50",children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,r.jsx)("span",{children:"Mendeteksi..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"\uD83D\uDCCD"}),(0,r.jsx)("span",{children:"Lokasi Saya"})]})}),(0,r.jsxs)("button",{onClick:()=>o(!s),className:"px-4 py-2 bg-gold text-white rounded-lg hover:bg-gold/90 transition-colors min-h-[48px] flex items-center gap-2",children:[(0,r.jsx)("span",{children:"\uD83D\uDDFA️"}),(0,r.jsx)("span",{children:s?"Tutup Peta":"Pilih dari Peta"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Atau pilih kota besar:"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:l.MAJOR_CITIES.map(a=>(0,r.jsx)("button",{onClick:()=>{e(a),(0,l.saveLocation)(a),o(!1)},className:"px-3 py-2 text-sm rounded-lg border-2 transition-colors min-h-[44px] ".concat(n.name===a.name?"border-gold bg-gold/10 text-primary font-semibold":"border-primary/20 bg-white text-primary hover:border-gold/50"),children:a.name},a.name))})]}),s&&(0,r.jsxs)("div",{className:"bg-soft rounded-xl p-6 border-2 border-primary/20",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary mb-4",children:"Pilih Lokasi di Peta Indonesia"}),(0,r.jsxs)("div",{className:"relative bg-white rounded-lg p-4 border-2 border-primary/10",children:[(0,r.jsxs)("svg",{viewBox:"0 0 200 300",className:"w-full h-auto cursor-crosshair",onClick:a=>{let t=a.currentTarget.getBoundingClientRect(),r=(a.clientX-t.left)/t.width,i=6+(1-(a.clientY-t.top)/t.height)*20-10,n=95+30*r,s={lat:Math.round(100*i)/100,lng:Math.round(100*n)/100,name:"Lat: ".concat(Math.round(100*i)/100,", Lng: ").concat(Math.round(100*n)/100)};e(s),(0,l.saveLocation)(s)},children:[(0,r.jsx)("path",{d:"M 60 20 L 80 10 L 120 15 L 140 30 L 150 50 L 145 80 L 130 100 L 110 120 L 100 150 L 90 160 L 70 140 L 50 120 L 40 90 L 45 60 L 50 40 Z",fill:"#E6F4EA",stroke:"#0F3D2E",strokeWidth:"2",className:"hover:fill-gold/20 transition-colors"}),n&&(0,r.jsx)("circle",{cx:(n.lng-95)/30*200,cy:(1-(n.lat+10)/20)*300,r:"5",fill:"#D4AF37",stroke:"#0F3D2E",strokeWidth:"2"})]}),(0,r.jsx)("p",{className:"text-xs text-primary/60 mt-2 text-center",children:"Klik pada peta untuk memilih lokasi"})]}),n&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-white rounded-lg border-2 border-gold/30",children:[(0,r.jsx)("p",{className:"text-sm text-primary/70",children:"Lokasi yang dipilih:"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-primary",children:n.name||"".concat(n.lat,", ").concat(n.lng)})]})]})]})}var o=t(8297);function d(a){let{name:e,time:t,isActive:i=!1}=a;return(0,r.jsxs)(o.A,{variant:i?"gold":"default",className:"text-center",children:[(0,r.jsx)("p",{className:"text-lg font-semibold mb-2 ".concat(i?"text-gold":"text-primary"),children:e}),(0,r.jsx)("p",{className:"text-2xl font-bold ".concat(i?"text-primary":"text-primary/80"),children:t})]})}function c(a){var e;let{prayerTimes:t,isLoading:i}=a,{t:l}=(0,n.B)();if(i)return(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gold border-t-transparent"}),(0,r.jsx)("p",{className:"mt-4 text-primary/70",children:"Loading prayer times..."})]});if(!t||!(null==(e=t.data)?void 0:e.prayer_times))return(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-primary/70",children:"Failed to load prayer times"}),(0,r.jsx)("p",{className:"text-sm text-primary/50 mt-2",children:"Please try selecting a different location or method"})]});let s=t.data.prayer_times,o=t.data.current_status,c=t.data.calculation_method,m=t.data.madhab,u=[{key:"fajr",name:l.sholat.subuh,time:s.fajr}];return s.sunrise&&u.push({key:"sunrise",name:"Terbit",time:s.sunrise}),u.push({key:"dhuhr",name:l.sholat.dzuhur,time:s.dhuhr},{key:"asr",name:l.sholat.ashar,time:s.asr},{key:"maghrib",name:l.sholat.maghrib,time:s.maghrib},{key:"isha",name:l.sholat.isya,time:s.isha}),(0,r.jsxs)("div",{children:[o&&(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gold/20 to-gold/10 border-2 border-gold/40 rounded-xl p-6 mb-8 text-center",children:[(0,r.jsxs)("p",{className:"text-sm text-primary/60 mb-2",children:[c&&"Metode: ".concat(c),c&&m&&" • ",m&&"Madhab: ".concat(m)]}),(0,r.jsxs)("h3",{className:"text-xl font-bold text-primary mb-2",children:["Waktu sholat saat ini: ",o.current_prayer]}),(0,r.jsxs)("p",{className:"text-lg text-gold font-semibold",children:["Sholat berikutnya: ",o.next_prayer,void 0!==o.minutes_until_next&&(0,r.jsxs)("span",{className:"text-primary/80 text-base ml-2",children:["(",o.minutes_until_next," menit lagi)"]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:u.map(a=>(0,r.jsx)(d,{name:a.name,time:a.time},a.key))})]})}function m(){let{t:a}=(0,n.B)(),[e,t]=(0,i.useState)({lat:-6.2088,lng:106.8456,name:"Jakarta"}),[o,d]=(0,i.useState)("MuslimWorldLeague"),[m,u]=(0,i.useState)("Shafi"),[h,g]=(0,i.useState)(null),[p,x]=(0,i.useState)(!0),[b,y]=(0,i.useState)(null),[f,v]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{v(!0);let a=(0,l.getSavedLocation)();a&&t(a)},[]),(0,i.useEffect)(()=>{let a=!0;return(async()=>{x(!0),y(null);try{console.log("Fetching prayer times for lat: ".concat(e.lat,", lng: ").concat(e.lng));let t=await (0,l.getPrayerTimes)(e.lat,e.lng,m,o);if(!a)return;(null==t?void 0:t.data)?g(t.data):y("Failed to load prayer times")}catch(e){console.error("Error fetching prayer times:",e),a&&y("An error occurred while loading prayer times")}finally{a&&x(!1)}})(),()=>{a=!1}},[e,m,o]),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-primary mb-4",children:a.sholat.title}),f&&(0,r.jsx)("p",{className:"text-lg text-primary/70",suppressHydrationWarning:!0,children:(0,l.formatDate)(new Date)})]}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,r.jsxs)("div",{className:"bg-white border-2 border-soft/30 rounded-xl p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-primary mb-4",children:"Pilih Lokasi"}),(0,r.jsx)(s,{onLocationChange:t,currentLocation:e}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Metode Perhitungan:"}),(0,r.jsxs)("select",{value:o,onChange:a=>d(a.target.value),className:"w-full md:w-96 px-4 py-3 rounded-xl border-2 border-primary/20 bg-white text-primary focus:border-gold focus:outline-none min-h-[48px]",children:[(0,r.jsx)("option",{value:"MuslimWorldLeague",children:"Muslim World League"}),(0,r.jsx)("option",{value:"Egypt",children:"Egyptian General Authority"}),(0,r.jsx)("option",{value:"Karachi",children:"University of Islamic Sciences, Karachi"}),(0,r.jsx)("option",{value:"UmmAlQura",children:"Umm Al-Qura University, Makkah"}),(0,r.jsx)("option",{value:"Dubai",children:"Dubai (Awqafi)"}),(0,r.jsx)("option",{value:"MoonsightingCommittee",children:"Moonsighting Committee"}),(0,r.jsx)("option",{value:"NorthAmerica",children:"Islamic Society of North America (ISNA)"}),(0,r.jsx)("option",{value:"Kuwait",children:"Kuwait"}),(0,r.jsx)("option",{value:"Qatar",children:"Qatar"}),(0,r.jsx)("option",{value:"Singapore",children:"Singapore"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-primary mb-2",children:"Madhab:"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>u("Shafi"),className:"px-4 py-2 rounded-lg border-2 transition-colors min-h-[44px] ".concat("Shafi"===m?"border-gold bg-gold/10 text-primary font-semibold":"border-primary/20 bg-white text-primary hover:border-gold/50"),children:"Syafi'i"}),(0,r.jsx)("button",{onClick:()=>u("Hanafi"),className:"px-4 py-2 rounded-lg border-2 transition-colors min-h-[44px] ".concat("Hanafi"===m?"border-gold bg-gold/10 text-primary font-semibold":"border-primary/20 bg-white text-primary hover:border-gold/50"),children:"Hanafi"})]})]})]})}),b&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl mb-6 text-center max-w-4xl mx-auto",children:b}),(0,r.jsx)(c,{prayerTimes:h,isLoading:p}),(0,r.jsxs)("div",{className:"mt-8 text-center text-sm text-primary/50",children:["Data provided by ",(0,r.jsx)("a",{href:"https://ummahapi.com",target:"_blank",rel:"noopener noreferrer",className:"text-gold hover:underline",children:"Ummah API"})]})]})}},2391:(a,e,t)=>{"use strict";t.d(e,{B:()=>n});var r=t(3372);let i={id:{nav:{home:"Beranda",sholat:"Jadwal Sholat",quran:"Al-Qur'an",puasa:"Jadwal Puasa"},home:{title:"Selamat Datang",subtitle:"Website Islami untuk memudahkan ibadah harian Anda",prayerTimes:"Jadwal Sholat",quranReading:"Baca Al-Qur'an",fastingSchedule:"Jadwal Puasa 2026"},sholat:{title:"Jadwal Sholat",selectCity:"Pilih Kota",today:"Hari Ini",subuh:"Subuh",dzuhur:"Dzuhur",ashar:"Ashar",maghrib:"Maghrib",isya:"Isya"},quran:{title:"Al-Qur'an",search:"Cari Surah",read:"Baca",verses:"Ayat",lastRead:"Terakhir Dibaca",markRead:"Tandai Terakhir Dibaca",audio:"Audio"},puasa:{title:"Jadwal Puasa Ramadhan 2026",ramadhan:"Ramadhan 2026",day:"Hari",imsak:"Imsak",buka:"Buka"}},en:{nav:{home:"Home",sholat:"Prayer Times",quran:"Quran",puasa:"Fasting Schedule"},home:{title:"Welcome",subtitle:"Islamic website to support your daily worship",prayerTimes:"Prayer Times",quranReading:"Read Quran",fastingSchedule:"Fasting Schedule 2026"},sholat:{title:"Prayer Times",selectCity:"Select City",today:"Today",subuh:"Fajr",dzuhur:"Dhuhr",ashar:"Asr",maghrib:"Maghrib",isya:"Isha"},quran:{title:"Al-Qur'an",search:"Search Surah",read:"Read",verses:"Verses",lastRead:"Last Read",markRead:"Mark Last Read",audio:"Audio"},puasa:{title:"Ramadhan Fasting Schedule 2026",ramadhan:"Ramadhan 2026",day:"Day",imsak:"Imsak",buka:"Iftar"}}},n=()=>{let a=(0,r.Z0)();return{t:i[a],language:a,setLanguage:a=>{(0,r.gW)(a),window.location.reload()}}}},3372:(a,e,t)=>{"use strict";t.d(e,{FB:()=>n,Z0:()=>o,gW:()=>s,y4:()=>l});let r="quran-progress",i="app-language",n=(a,e,t)=>{let i={surah:a,ayah:e,surahName:t,timestamp:Date.now()};localStorage.setItem(r,JSON.stringify(i))},l=()=>{let a=localStorage.getItem(r);if(!a)return null;try{return JSON.parse(a)}catch(a){return null}},s=a=>{localStorage.setItem(i,a)},o=()=>"en"===localStorage.getItem(i)?"en":"id"},7621:(a,e,t)=>{"use strict";t.r(e),t.d(e,{MAJOR_CITIES:()=>r,formatDate:()=>c,getAllSurahs:()=>o,getHijriDate:()=>m,getPrayerTimes:()=>i,getSavedLocation:()=>s,getSurahDetail:()=>d,getUserLocation:()=>n,saveLocation:()=>l});let r=[{lat:-6.2088,lng:106.8456,name:"Jakarta"},{lat:-7.2575,lng:112.7521,name:"Surabaya"},{lat:-6.9175,lng:107.6191,name:"Bandung"},{lat:3.5952,lng:98.6722,name:"Medan"},{lat:-6.9667,lng:110.4167,name:"Semarang"},{lat:-5.1477,lng:119.4328,name:"Makassar"},{lat:-7.7956,lng:110.3695,name:"Yogyakarta"},{lat:-7.9797,lng:112.6304,name:"Malang"},{lat:-2.9761,lng:104.7754,name:"Palembang"},{lat:-8.6705,lng:115.2126,name:"Denpasar"},{lat:-.9471,lng:100.4172,name:"Padang"},{lat:.5071,lng:101.4479,name:"Pekanbaru"}];async function i(a,e){var t,r,i,n,l,s,o,d,c;let m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Shafi",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"MuslimWorldLeague",h=null!=(t=({MuslimWorldLeague:3,Egyptian:5,Karachi:1,UmmAlQura:4,Dubai:8,MoonsightingCommittee:9,NorthAmerica:2,Kuwait:10,Qatar:11,Singapore:15})[u])?t:3,g=new URL("https://api.aladhan.com/v1/timings");g.searchParams.append("latitude",a.toString()),g.searchParams.append("longitude",e.toString()),g.searchParams.append("method",h.toString()),g.searchParams.append("madhab",("Shafi"===m?1:2).toString());try{console.log("[Client] Fetching prayer times from Aladhan API: ".concat(g.toString()));let t=await fetch(g.toString());if(!t.ok)return console.error("[Client] Aladhan API error: ".concat(t.status," ").concat(t.statusText)),{};let h=await t.json();if(console.log("[Client] Aladhan API response received:",h),200!==h.code||!h.data)return{};let p=h.data.timings;return{success:!0,data:{date:null==(r=h.data.date)?void 0:r.readable,location:{latitude:null!=(o=null==(i=h.data.meta)?void 0:i.latitude)?o:a,longitude:null!=(d=null==(n=h.data.meta)?void 0:n.longitude)?d:e},calculation_method:null!=(c=null==(s=h.data.meta)||null==(l=s.method)?void 0:l.name)?c:u,madhab:m,prayer_times:{fajr:p.Fajr,sunrise:p.Sunrise,dhuhr:p.Dhuhr,asr:p.Asr,maghrib:p.Maghrib,isha:p.Isha}}}}catch(a){return console.error("[Client] Error fetching prayer times:",a),{}}}function n(){return new Promise((a,e)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>a(e),a=>e(a),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):e(Error("Geolocation is not supported by your browser"))})}function l(a){localStorage.setItem("user-location",JSON.stringify(a))}function s(){{let a=localStorage.getItem("user-location");if(a)try{return JSON.parse(a)}catch(a){}}return null}async function o(){try{console.log("Fetching surah list from EQuran.id");let a=await fetch("https://equran.id/api/v2/surat");if(!a.ok)throw Error("Failed to fetch surah list");let e=await a.json();if(console.log("Surah list response:",e),!e||!e.data)return console.error("Invalid API response structure"),[];return e.data}catch(a){return console.error("Error fetching surah list:",a),[]}}async function d(a){try{console.log("Fetching surah ".concat(a," from EQuran.id"));let e=await fetch("https://equran.id/api/v2/surat/".concat(a));if(!e.ok)throw console.error("API responded with status: ".concat(e.status)),Error("Failed to fetch surah detail: ".concat(e.status));let t=await e.json();if(console.log("Surah detail response:",t),!t||!t.data)return console.error("Invalid API response structure:",t),null;return t.data}catch(a){return console.error("Error fetching surah detail:",a),null}}function c(a){return a.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function m(){let a=new Date;return new Intl.DateTimeFormat("id-ID-u-ca-islamic",{day:"numeric",month:"long",year:"numeric"}).format(a)}},8297:(a,e,t)=>{"use strict";t.d(e,{A:()=>n});var r=t(5155);let i={default:"bg-white border border-soft/30 shadow-sm",highlighted:"bg-soft border-2 border-primary/20 shadow-md",gold:"bg-gradient-to-br from-gold/20 to-gold/10 border-2 border-gold/40 shadow-md"};function n(a){let{children:e,variant:t="default",className:n="",onClick:l}=a;return(0,r.jsx)("div",{className:"".concat("rounded-xl p-6 transition-all duration-200"," ").concat(i[t]," ").concat(l?"hover:shadow-lg cursor-pointer":""," ").concat(n),onClick:l,children:e})}},9990:(a,e,t)=>{Promise.resolve().then(t.bind(t,218))}},a=>{a.O(0,[441,696,358],()=>a(a.s=9990)),_N_E=a.O()}]);