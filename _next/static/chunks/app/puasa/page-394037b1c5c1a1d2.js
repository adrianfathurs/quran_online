(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{1783:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var r=t(5155),s=t(2391),n=t(2115),i=t(7621),o=t(3372);function l(){let{t:e}=(0,s.B)(),[a,t]=(0,n.useState)(null),[l,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!0),[g,p]=(0,n.useState)([]),[x,f]=(0,n.useState)([]),[y,b]=(0,n.useState)(""),[v,k]=(0,n.useState)(""),[w,j]=(0,n.useState)(!1),[S,N]=(0,n.useState)(!1),[I,P]=(0,n.useState)(""),[D,A]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{p(await (0,i.getProvinces)())})();let e=(0,o.CP)();e?(b(e.province),k(e.city),A("".concat(e.city,", ").concat(e.province)),J(e.province,e.city)):C()},[]),(0,n.useEffect)(()=>{y&&(async()=>{f(await (0,i.getCities)(y))})()},[y]),(0,n.useEffect)(()=>{if(l.length>0){let e=new Date("2026-02-18"),a=Math.floor((new Date().getTime()-e.getTime())/864e5),r=l.findIndex(e=>e.tanggal===a+1);t(r>=0?r:null)}u(!0),h(!1)},[l]);let C=async()=>{N(!0),P("");try{let{latitude:e,longitude:a}=(await (0,i.getUserLocation)()).coords;console.log("User location:",e,a);let t=await (0,i.reverseGeocode)(e,a);if(t){console.log("Geocode result:",t);let e=(await (0,i.getProvinces)()).find(e=>{let a=e.toLowerCase(),r=t.province.toLowerCase();return a===r||a.includes(r)||r.includes(a)});if(e){let a=(await (0,i.getCities)(e)).find(e=>{let a=e.toLowerCase(),r=t.city.toLowerCase();return a===r||a.includes(r)||r.includes(a)});if(a){b(e),k(a),A("".concat(a,", ").concat(e," (Deteksi Lokasi)")),await J(e,a);return}}}console.log("Could not match location, defaulting to Jakarta"),b("DKI Jakarta"),k("Jakarta Pusat"),A("Jakarta Pusat, DKI Jakarta (Lokasi Default)"),await J("DKI Jakarta","Jakarta Pusat")}catch(e){console.error("Error detecting location:",e),P("Tidak dapat mendeteksi lokasi. Silakan pilih kota secara manual."),b("DKI Jakarta"),k("Jakarta Pusat"),A("Jakarta Pusat, DKI Jakarta (Lokasi Default)"),await J("DKI Jakarta","Jakarta Pusat")}finally{N(!1)}},J=async(e,a)=>{h(!0);let t=await (0,i.getImsakiyahSchedule)({provinsi:e,kabkota:a});t.length>0&&(c(t),(0,o.DA)(e,a)),h(!1)};return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-primary mb-4",children:e.puasa.title}),(0,r.jsx)("p",{className:"text-lg text-primary/70",children:"Ramadhan 1447 H"}),(0,r.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row items-center justify-center gap-3",children:[(0,r.jsx)("div",{className:"bg-soft border border-primary/20 rounded-lg px-4 py-2",children:(0,r.jsxs)("p",{className:"text-sm text-primary/80",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Lokasi:"})," ",D||"Memuat..."]})}),(0,r.jsx)("button",{onClick:()=>j(!w),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition-colors text-sm font-medium",children:w?"Tutup":"Ganti Kota"}),!S&&(0,r.jsx)("button",{onClick:C,className:"px-4 py-2 bg-gold text-white rounded-lg hover:bg-gold/80 transition-colors text-sm font-medium",title:"Deteksi lokasi otomatis",children:"\uD83D\uDCCD Deteksi Lokasi"})]}),S&&(0,r.jsx)("p",{className:"text-sm text-primary/60 mt-2",children:"Mendeteksi lokasi..."}),I&&(0,r.jsx)("p",{className:"text-sm text-red-500 mt-2",children:I})]}),w&&(0,r.jsxs)("div",{className:"max-w-2xl mx-auto mb-8 bg-white border-2 border-soft/30 rounded-xl p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary mb-4",children:"Pilih Kota"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-primary/80 mb-2",children:"Provinsi"}),(0,r.jsxs)("select",{value:y,onChange:e=>{b(e.target.value),k(""),f([])},className:"w-full px-4 py-2 border-2 border-soft/30 rounded-lg focus:outline-none focus:border-gold bg-white",children:[(0,r.jsx)("option",{value:"",children:"Pilih Provinsi"}),g.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-primary/80 mb-2",children:"Kota/Kabupaten"}),(0,r.jsxs)("select",{value:v,onChange:e=>{k(e.target.value)},disabled:!y||0===x.length,className:"w-full px-4 py-2 border-2 border-soft/30 rounded-lg focus:outline-none focus:border-gold bg-white disabled:bg-gray-100 disabled:cursor-not-allowed",children:[(0,r.jsx)("option",{value:"",children:"Pilih Kota"}),x.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]})]}),(0,r.jsx)("div",{className:"mt-4 flex justify-end",children:(0,r.jsx)("button",{onClick:()=>{y&&v&&(J(y,v),A("".concat(v,", ").concat(y)),j(!1))},disabled:!y||!v,className:"px-6 py-2 bg-gold text-white rounded-lg hover:bg-gold/80 transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Terapkan"})})]}),m&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gold border-t-transparent"}),(0,r.jsx)("p",{className:"text-primary/70 mt-4",children:"Memuat jadwal imsakiyah..."})]}),d&&!m&&null!==a&&(0,r.jsxs)("div",{className:"mb-12 bg-gradient-to-r from-gold/20 to-gold/10 border-2 border-gold/40 rounded-xl p-8 text-center",children:[(0,r.jsxs)("p",{className:"text-2xl font-bold text-primary mb-2",children:["Hari ke-",a+1," Ramadhan 1447 H"]}),(0,r.jsx)("p",{className:"text-primary/70",children:"Mari perbanyak ibadah dan amal shaleh"})]}),!m&&l.length>0&&(0,r.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,r.jsx)("div",{className:"grid gap-4",children:l.map((t,s)=>{let n=d&&null!==a&&s===a,i=(e=>{let a=new Date("2026-02-18"),t=new Date(a);return t.setDate(a.getDate()+(e-1)),t.toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})(t.tanggal);return(0,r.jsx)("div",{className:"bg-white border-2 rounded-xl p-6 ".concat(n?"border-gold bg-gold/5":"border-soft/30"),children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold ".concat(n?"bg-gold text-white":"bg-soft text-primary"),children:t.tanggal}),(0,r.jsx)("span",{className:"text-sm text-primary/60",children:e.puasa.day})]}),(0,r.jsx)("p",{className:"text-sm text-primary/70",children:i})]}),(0,r.jsxs)("div",{className:"flex md:justify-end gap-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-xs text-primary/60 mb-1",children:e.puasa.imsak}),(0,r.jsx)("p",{className:"text-lg font-semibold text-primary",children:t.imsak})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-xs text-primary/60 mb-1",children:e.puasa.buka}),(0,r.jsx)("p",{className:"text-lg font-semibold text-gold",children:t.maghrib})]})]})]})},s)})})}),(0,r.jsx)("div",{className:"mt-16 text-center max-w-3xl mx-auto",children:(0,r.jsxs)("div",{className:"bg-soft border border-primary/20 rounded-xl p-8",children:[(0,r.jsx)("p",{className:"text-lg italic text-primary/80",children:'"Puasa Ramadhan adalah penghapus dosa-dosa yang lalu, selama dosa-dosa itu dijauhi."'}),(0,r.jsx)("p",{className:"text-sm font-semibold text-primary mt-4",children:"â€” HR. An-Nasa'i"})]})})]})}},2391:(e,a,t)=>{"use strict";t.d(a,{B:()=>n});var r=t(3372);let s={id:{nav:{home:"Beranda",sholat:"Jadwal Sholat",quran:"Al-Qur'an",puasa:"Jadwal Puasa"},home:{title:"Selamat Datang",subtitle:"Website Islami untuk memudahkan ibadah harian Anda",prayerTimes:"Jadwal Sholat",quranReading:"Baca Al-Qur'an",fastingSchedule:"Jadwal Puasa 2026"},sholat:{title:"Jadwal Sholat",selectCity:"Pilih Kota",today:"Hari Ini",subuh:"Subuh",dzuhur:"Dzuhur",ashar:"Ashar",maghrib:"Maghrib",isya:"Isya"},quran:{title:"Al-Qur'an",search:"Cari Surah",read:"Baca",verses:"Ayat",lastRead:"Terakhir Dibaca",markRead:"Tandai Terakhir Dibaca",audio:"Audio"},puasa:{title:"Jadwal Puasa Ramadhan 2026",ramadhan:"Ramadhan 2026",day:"Hari",imsak:"Imsak",buka:"Buka"}},en:{nav:{home:"Home",sholat:"Prayer Times",quran:"Quran",puasa:"Fasting Schedule"},home:{title:"Welcome",subtitle:"Islamic website to support your daily worship",prayerTimes:"Prayer Times",quranReading:"Read Quran",fastingSchedule:"Fasting Schedule 2026"},sholat:{title:"Prayer Times",selectCity:"Select City",today:"Today",subuh:"Fajr",dzuhur:"Dhuhr",ashar:"Asr",maghrib:"Maghrib",isya:"Isha"},quran:{title:"Al-Qur'an",search:"Search Surah",read:"Read",verses:"Verses",lastRead:"Last Read",markRead:"Mark Last Read",audio:"Audio"},puasa:{title:"Ramadhan Fasting Schedule 2026",ramadhan:"Ramadhan 2026",day:"Day",imsak:"Imsak",buka:"Iftar"}}},n=()=>{let e=(0,r.Z0)();return{t:s[e],language:e,setLanguage:e=>{(0,r.gW)(e),window.location.reload()}}}},3372:(e,a,t)=>{"use strict";t.d(a,{CP:()=>u,DA:()=>d,FB:()=>i,Z0:()=>c,gW:()=>l,y4:()=>o});let r="imsakiyah-city",s="quran-progress",n="app-language",i=(e,a,t)=>{let r={surah:e,ayah:a,surahName:t,timestamp:Date.now()};localStorage.setItem(s,JSON.stringify(r))},o=()=>{let e=localStorage.getItem(s);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},l=e=>{localStorage.setItem(n,e)},c=()=>"en"===localStorage.getItem(n)?"en":"id",d=(e,a)=>{localStorage.setItem(r,JSON.stringify({province:e,city:a}))},u=()=>{let e=localStorage.getItem(r);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}},7621:(e,a,t)=>{"use strict";t.r(a),t.d(a,{MAJOR_CITIES:()=>r,formatDate:()=>d,getAllSurahs:()=>l,getCities:()=>h,getHijriDate:()=>u,getImsakiyahSchedule:()=>g,getPrayerTimes:()=>s,getProvinces:()=>m,getSavedLocation:()=>o,getSurahDetail:()=>c,getUserLocation:()=>n,reverseGeocode:()=>p,saveLocation:()=>i});let r=[{lat:-6.2088,lng:106.8456,name:"Jakarta"},{lat:-7.2575,lng:112.7521,name:"Surabaya"},{lat:-6.9175,lng:107.6191,name:"Bandung"},{lat:3.5952,lng:98.6722,name:"Medan"},{lat:-6.9667,lng:110.4167,name:"Semarang"},{lat:-5.1477,lng:119.4328,name:"Makassar"},{lat:-7.7956,lng:110.3695,name:"Yogyakarta"},{lat:-7.9797,lng:112.6304,name:"Malang"},{lat:-2.9761,lng:104.7754,name:"Palembang"},{lat:-8.6705,lng:115.2126,name:"Denpasar"},{lat:-.9471,lng:100.4172,name:"Padang"},{lat:.5071,lng:101.4479,name:"Pekanbaru"}];async function s(e,a){var t,r,s,n,i,o,l,c,d;let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Shafi",m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"MuslimWorldLeague",h=null!=(t=({MuslimWorldLeague:3,Egyptian:5,Karachi:1,UmmAlQura:4,Dubai:8,MoonsightingCommittee:9,NorthAmerica:2,Kuwait:10,Qatar:11,Singapore:15})[m])?t:3,g=new URL("https://api.aladhan.com/v1/timings");g.searchParams.append("latitude",e.toString()),g.searchParams.append("longitude",a.toString()),g.searchParams.append("method",h.toString()),g.searchParams.append("madhab",("Shafi"===u?1:2).toString());try{console.log("[Client] Fetching prayer times from Aladhan API: ".concat(g.toString()));let t=await fetch(g.toString());if(!t.ok)return console.error("[Client] Aladhan API error: ".concat(t.status," ").concat(t.statusText)),{};let h=await t.json();if(console.log("[Client] Aladhan API response received:",h),200!==h.code||!h.data)return{};let p=h.data.timings;return{success:!0,data:{date:null==(r=h.data.date)?void 0:r.readable,location:{latitude:null!=(l=null==(s=h.data.meta)?void 0:s.latitude)?l:e,longitude:null!=(c=null==(n=h.data.meta)?void 0:n.longitude)?c:a},calculation_method:null!=(d=null==(o=h.data.meta)||null==(i=o.method)?void 0:i.name)?d:m,madhab:u,prayer_times:{fajr:p.Fajr,sunrise:p.Sunrise,dhuhr:p.Dhuhr,asr:p.Asr,maghrib:p.Maghrib,isha:p.Isha}}}}catch(e){return console.error("[Client] Error fetching prayer times:",e),{}}}function n(){return new Promise((e,a)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>e(a),e=>a(e),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):a(Error("Geolocation is not supported by your browser"))})}function i(e){localStorage.setItem("user-location",JSON.stringify(e))}function o(){{let e=localStorage.getItem("user-location");if(e)try{return JSON.parse(e)}catch(e){}}return null}async function l(){try{console.log("Fetching surah list from EQuran.id");let e=await fetch("https://equran.id/api/v2/surat");if(!e.ok)throw Error("Failed to fetch surah list");let a=await e.json();if(console.log("Surah list response:",a),!a||!a.data)return console.error("Invalid API response structure"),[];return a.data}catch(e){return console.error("Error fetching surah list:",e),[]}}async function c(e){try{console.log("Fetching surah ".concat(e," from EQuran.id"));let a=await fetch("https://equran.id/api/v2/surat/".concat(e));if(!a.ok)throw console.error("API responded with status: ".concat(a.status)),Error("Failed to fetch surah detail: ".concat(a.status));let t=await a.json();if(console.log("Surah detail response:",t),!t||!t.data)return console.error("Invalid API response structure:",t),null;return t.data}catch(e){return console.error("Error fetching surah detail:",e),null}}function d(e){return e.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function u(){let e=new Date;return new Intl.DateTimeFormat("id-ID-u-ca-islamic",{day:"numeric",month:"long",year:"numeric"}).format(e)}async function m(){try{console.log("Fetching provinces from EQuran.id");let e=await fetch("https://equran.id/api/v2/imsakiyah/provinsi");if(!e.ok)throw Error("Failed to fetch provinces");let a=await e.json();if(console.log("Provinces response:",a),!a||!a.data||!Array.isArray(a.data))return console.error("Invalid API response structure"),[];return a.data}catch(e){return console.error("Error fetching provinces:",e),[]}}async function h(e){try{console.log("Fetching cities for province: ".concat(e));let a=await fetch("https://equran.id/api/v2/imsakiyah/kabkota",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provinsi:e})});if(!a.ok)throw Error("Failed to fetch cities");let t=await a.json();if(console.log("Cities response:",t),!t||!t.data||!Array.isArray(t.data))return console.error("Invalid API response structure"),[];return t.data}catch(e){return console.error("Error fetching cities:",e),[]}}async function g(e){try{console.log("Fetching imsakiyah schedule for:",e);let a=await fetch("https://equran.id/api/v2/imsakiyah",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("Failed to fetch imsakiyah schedule");let t=await a.json();if(console.log("Imsakiyah schedule response:",t),!t||!t.data||!t.data.imsakiyah)return console.error("Invalid API response structure"),[];return t.data.imsakiyah}catch(e){return console.error("Error fetching imsakiyah schedule:",e),[]}}async function p(e,a){let t="https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(e,"&lon=").concat(a,"&zoom=10&accept-language=id-ID");try{console.log("Reverse geocoding for:",e,a);let r=await fetch(t,{headers:{"User-Agent":"Quran-Online-App"}});if(!r.ok)throw Error("Failed to reverse geocode");let s=await r.json();if(console.log("Reverse geocode response:",s),!s||!s.address)return console.error("Invalid geocode response"),null;let n=s.address,i=n.city||n.town||n.municipality||n.county||"",o=n.state||"";if(i=i.replace(/^Kota\s+/i,"").replace(/^Kabupaten\s+/i,"").replace(/^Kab\s+/i,"").trim(),o=o.replace(/^Provinsi\s+/i,"").replace(/^Prov\.\s+/i,"").trim(),!i||!o)return console.error("Could not extract city or province from geocode result"),null;return{province:o,city:i,fullAddress:s.display_name||""}}catch(e){return console.error("Error reverse geocoding:",e),null}}},8484:(e,a,t)=>{Promise.resolve().then(t.bind(t,1783))}},e=>{e.O(0,[441,696,358],()=>e(e.s=8484)),_N_E=e.O()}]);